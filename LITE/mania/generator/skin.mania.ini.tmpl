{{ defineDatasource "config" "config.json" -}}
{{ "" }}
{{ range $unused0, $entry := (ds "config").keys -}}
{{   $width := $entry.width -}}
{{   $line_width := $entry.line_width -}}
{{   $spacing := $entry.spacing -}}
{{   $total := 0 -}}
{{   range $width }}{{ $total = add $total . }}{{ end -}}
{{   range $line_width }}{{ $total = add $total . }}{{ end -}}
{{   range $spacing }}{{ $total = add $total . }}{{ end -}}
{{   $start := sub (ds "config").total_width_16_9 $total -}}
{{   $start = mul $start (ds "config").justify | math.Floor -}}
{{   "" }}
[Mania]
Keys: {{ $entry.key }}
ColumnStart: {{ $start }}
ColumnWidth: {{ join $width "," }}
ColumnLineWidth: {{ join $line_width "," }}
ColumnSpacing: {{ join $spacing "," }}

HitPosition: {{ (ds "config").hit_position }}
ScorePosition: {{ (ds "config").score_position }}
ComboPosition: {{ (ds "config").combo_position }}

JudgementLine: 0
KeysUnderNotes: 1

// keys
{{   range $i, $color := $entry.colors -}}
KeyImage{{ $i }}: mania/keys/key
KeyImage{{ $i }}D: mania/keys/keydown
{{   end -}}
{{   "" }}
// notes
{{   range $i, $color := $entry.colors -}}
NoteImage{{ $i }}: mania/notes/note-{{ $color }}
NoteImage{{ $i }}H: mania/notes/note{{ if eq $entry.ln_head_color "colored" }}-{{ $color }}{{ end }}
NoteImage{{ $i }}L: mania/notes/noteL{{ if eq $entry.ln_body_color "colored" }}-{{ $color }}{{ end }}
NoteImage{{ $i }}T: mania/notes/noteT{{ if eq $entry.ln_body_color "colored" }}-{{ $color }}{{ end }}
{{   end -}}
{{ end -}}